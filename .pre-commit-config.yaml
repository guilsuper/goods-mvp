repos:
  - repo: https://github.com/Lucas-C/pre-commit-hooks
    rev: v1.5.3
    hooks:
    - id: remove-crlf
    - id: forbid-tabs

  - repo: https://github.com/iamthefij/docker-pre-commit
    rev: v3.0.1
    hooks:
    - id: docker-compose-check

  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:

    - id: check-docstring-first
      name: check docstring is first
      description: checks a common error of defining a docstring after code.
      entry: check-docstring-first
      language: python
      types: [python]

    - id: check-executables-have-shebangs
      name: check that executables have shebangs
      description: ensures that (non-binary) executables have a shebang.
      entry: check-executables-have-shebangs
      language: python
      types: [text, executable]
      stages: [commit, push, manual]

    - id: check-shebang-scripts-are-executable
      name: check that scripts with shebangs are executable
      description: ensures that (non-binary) files with a shebang are executable.
      entry: check-shebang-scripts-are-executable
      language: python
      types: [text]
      stages: [commit, push, manual]

    - id: pretty-format-json
      name: pretty format json
      description: sets a standard for formatting json files.
      entry: pretty-format-json
      language: python
      types: [json]
      exclude: "(frontend/package-lock.json)"
      args: [--autofix, --no-ensure-ascii, --no-sort-keys]

    - id: check-json
      name: check json
      description: checks json files for parseable syntax.
      entry: check-json
      language: python
      types: [json]

    - id: check-merge-conflict
      name: check for merge conflicts
      description: checks for files that contain merge conflict strings.
      entry: check-merge-conflict
      language: python
      types: [text]

    - id: check-yaml
      name: check yaml
      description: checks yaml files for parseable syntax.
      entry: check-yaml
      language: python
      types: [yaml]

    - id: end-of-file-fixer
      name: fix end of files
      description: ensures that a file is either empty, or ends with one newline.
      entry: end-of-file-fixer
      language: python
      types: [text]
      stages: [commit, push, manual]

    - id: mixed-line-ending
      name: mixed line ending
      description: replaces or checks mixed line ending.
      entry: mixed-line-ending
      language: python
      types: [text]
      args: [ --fix=lf ]

    - id: requirements-txt-fixer
      name: sort requirements.txt
      description: sorts entries in requirements.txt
      entry: requirements-txt-fixer
      language: python
      files: (requirements|constraints).*\.txt$


    - id: trailing-whitespace
      name: trim trailing whitespace
      description: trims trailing whitespace
      entry: trailing-whitespace-fixer
      language: python
      types: [text]

  - repo: https://github.com/asottile/reorder-python-imports
    rev: v3.10.0
    hooks:
    - id: reorder-python-imports
      args: [ --py39-plus, ]

  - repo: https://github.com/PyCQA/flake8
    rev: 6.1.0
    hooks:
    - id: flake8
      name: flake8

      # Flake doesn't ignore these folders by itself
      exclude: "(migrations)/.*"

# - repo: https://github.com/pre-commit/mirrors-eslint
#   rev: 'v8.46.0'
#   hooks:
#   - id: eslint
#     additional_dependencies:
#     - eslint@8.0.1
#     - eslint-plugin-react@^7.33.1
#     args: [ --fix ]
